<div class="start-window">
  <div class="search_tab">
    <div class="search_header" (click)="ToggleSearchTab()">
      <div class="header_description">
        <svg viewBox="0 0 24 24" width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
          <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
          <g id="SVGRepo_iconCarrier">
            <path d="M11 6C13.7614 6 16 8.23858 16 11M16.6588 16.6549L21 21M19 11C19 15.4183 15.4183 19 11 19C6.58172 19 3 15.4183 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z" stroke="#c4c4c4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
          </g>
        </svg>
        <span>Поиск</span>
      </div>
      <div class="header_arrowdown">
        <svg viewBox="0 0 24.00 24.00" width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
          <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="0.192"></g>
          <g id="SVGRepo_iconCarrier">
            <path d="M5.70711 9.71069C5.31658 10.1012 5.31658 10.7344 5.70711 11.1249L10.5993 16.0123C11.3805 16.7927 12.6463 16.7924 13.4271 16.0117L18.3174 11.1213C18.708 10.7308 18.708 10.0976 18.3174 9.70708C17.9269 9.31655 17.2937 9.31655 16.9032 9.70708L12.7176 13.8927C12.3271 14.2833 11.6939 14.2832 11.3034 13.8927L7.12132 9.71069C6.7308 9.32016 6.09763 9.32016 5.70711 9.71069Z" fill="#c4c4c4"></path>
          </g>
        </svg>
      </div>
    </div>
    <div class="search_body" [ngClass]="SearchTab">
      <div class="geolocation">
        <div class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" height="3em" viewBox="0 0 576 512">
            <path fill="#cccccc" d="M408 120c0 54.6-73.1 151.9-105.2 192c-7.7 9.6-22 9.6-29.6 0C241.1 271.9 168 174.6 168 120C168 53.7 221.7 0 288 0s120 53.7 120 120zm8 80.4c3.5-6.9 6.7-13.8 9.6-20.6c.5-1.2 1-2.5 1.5-3.7l116-46.4C558.9 123.4 576 135 576 152V422.8c0 9.8-6 18.6-15.1 22.3L416 503V200.4zM137.6 138.3c2.4 14.1 7.2 28.3 12.8 41.5c2.9 6.8 6.1 13.7 9.6 20.6V451.8L32.9 502.7C17.1 509 0 497.4 0 480.4V209.6c0-9.8 6-18.6 15.1-22.3l122.6-49zM327.8 332c13.9-17.4 35.7-45.7 56.2-77V504.3L192 449.4V255c20.5 31.3 42.3 59.6 56.2 77c20.5 25.6 59.1 25.6 79.6 0zM288 152a40 40 0 1 0 0-80 40 40 0 1 0 0 80z" />
          </svg>
        </div>
        <div class="header">
          <h2>Автоматически определить местоположение</h2>
        </div>
        <div class="description">
          <p>Автоматическое определение вашей геолокации на основании ваших данных подключения к сети.</p>
        </div>
        <div class="find-location">
          <div class="form-elem">
            <div class="close-form">
              <div class="form-icon">
                <svg xmlns="http://www.w3.org/2000/svg" height="1.5em" viewBox="0 0 512 512">
                  <path fill="#202327" d="M215.7 499.2c11-13.8 25.1-31.7 40.3-52.3V352c0-23.7 12.9-44.4 32-55.4V272c0-55.6 40.5-101.7 93.6-110.5C367 70 287.7 0 192 0C86 0 0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128zM400 240c17.7 0 32 14.3 32 32v48H368V272c0-17.7 14.3-32 32-32zm-80 32v48c-17.7 0-32 14.3-32 32V480c0 17.7 14.3 32 32 32H480c17.7 0 32-14.3 32-32V352c0-17.7-14.3-32-32-32V272c0-44.2-35.8-80-80-80s-80 35.8-80 80z" />
                </svg>
              </div>
              <input type="text" disabled class="current-location close-input" [(ngModel)]="Address" />
            </div>
            <div class="btn-geolocation">
              <button class="auto-find" (click)="AutoFindLocation()">Опрделить</button>
            </div>
          </div>
        </div>
        <div class="btn-continue">
          <button (click)="FindLocation()">Продолжить</button>
        </div>
      </div>
      <div class="manual">
        <div class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" height="3em" viewBox="0 0 640 512">
            <path fill="#cccccc" d="M308.5 135.3c7.1-6.3 9.9-16.2 6.2-25c-2.3-5.3-4.8-10.5-7.6-15.5L304 89.4c-3-5-6.3-9.9-9.8-14.6c-5.7-7.6-15.7-10.1-24.7-7.1l-28.2 9.3c-10.7-8.8-23-16-36.2-20.9L199 27.1c-1.9-9.3-9.1-16.7-18.5-17.8C173.9 8.4 167.2 8 160.4 8h-.7c-6.8 0-13.5 .4-20.1 1.2c-9.4 1.1-16.6 8.6-18.5 17.8L115 56.1c-13.3 5-25.5 12.1-36.2 20.9L50.5 67.8c-9-3-19-.5-24.7 7.1c-3.5 4.7-6.8 9.6-9.9 14.6l-3 5.3c-2.8 5-5.3 10.2-7.6 15.6c-3.7 8.7-.9 18.6 6.2 25l22.2 19.8C32.6 161.9 32 168.9 32 176s.6 14.1 1.7 20.9L11.5 216.7c-7.1 6.3-9.9 16.2-6.2 25c2.3 5.3 4.8 10.5 7.6 15.6l3 5.2c3 5.1 6.3 9.9 9.9 14.6c5.7 7.6 15.7 10.1 24.7 7.1l28.2-9.3c10.7 8.8 23 16 36.2 20.9l6.1 29.1c1.9 9.3 9.1 16.7 18.5 17.8c6.7 .8 13.5 1.2 20.4 1.2s13.7-.4 20.4-1.2c9.4-1.1 16.6-8.6 18.5-17.8l6.1-29.1c13.3-5 25.5-12.1 36.2-20.9l28.2 9.3c9 3 19 .5 24.7-7.1c3.5-4.7 6.8-9.5 9.8-14.6l3.1-5.4c2.8-5 5.3-10.2 7.6-15.5c3.7-8.7 .9-18.6-6.2-25l-22.2-19.8c1.1-6.8 1.7-13.8 1.7-20.9s-.6-14.1-1.7-20.9l22.2-19.8zM112 176a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM504.7 500.5c6.3 7.1 16.2 9.9 25 6.2c5.3-2.3 10.5-4.8 15.5-7.6l5.4-3.1c5-3 9.9-6.3 14.6-9.8c7.6-5.7 10.1-15.7 7.1-24.7l-9.3-28.2c8.8-10.7 16-23 20.9-36.2l29.1-6.1c9.3-1.9 16.7-9.1 17.8-18.5c.8-6.7 1.2-13.5 1.2-20.4s-.4-13.7-1.2-20.4c-1.1-9.4-8.6-16.6-17.8-18.5L583.9 307c-5-13.3-12.1-25.5-20.9-36.2l9.3-28.2c3-9 .5-19-7.1-24.7c-4.7-3.5-9.6-6.8-14.6-9.9l-5.3-3c-5-2.8-10.2-5.3-15.6-7.6c-8.7-3.7-18.6-.9-25 6.2l-19.8 22.2c-6.8-1.1-13.8-1.7-20.9-1.7s-14.1 .6-20.9 1.7l-19.8-22.2c-6.3-7.1-16.2-9.9-25-6.2c-5.3 2.3-10.5 4.8-15.6 7.6l-5.2 3c-5.1 3-9.9 6.3-14.6 9.9c-7.6 5.7-10.1 15.7-7.1 24.7l9.3 28.2c-8.8 10.7-16 23-20.9 36.2L315.1 313c-9.3 1.9-16.7 9.1-17.8 18.5c-.8 6.7-1.2 13.5-1.2 20.4s.4 13.7 1.2 20.4c1.1 9.4 8.6 16.6 17.8 18.5l29.1 6.1c5 13.3 12.1 25.5 20.9 36.2l-9.3 28.2c-3 9-.5 19 7.1 24.7c4.7 3.5 9.5 6.8 14.6 9.8l5.4 3.1c5 2.8 10.2 5.3 15.5 7.6c8.7 3.7 18.6 .9 25-6.2l19.8-22.2c6.8 1.1 13.8 1.7 20.9 1.7s14.1-.6 20.9-1.7l19.8 22.2zM464 304a48 48 0 1 1 0 96 48 48 0 1 1 0-96z" />
          </svg>
        </div>
        <div class="header">
          <h2>Выбрать местоположение вручную</h2>
        </div>
        <div class="description">
          <p>Ручной выбор местоположения в случае если нужно узнать погоду в разных регионах.</p>
        </div>
        <div class="input-location">
          <div class="form-elem" (clickOutside)="CloseContextMenu()">
            <div class="form-icon">
              <svg xmlns="http://www.w3.org/2000/svg" height="1.5em" viewBox="0 0 384 512">
                <path fill="#202327" d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z" />
              </svg>
            </div>
            <input type="text" id="input-field" class="current-location" placeholder="Страна, область, район" [(ngModel)]="inputValue" (focus)="OpenContextMenu()" (keyup)="onSearchTermChange()">
          </div>
          <ul class="dropdown-menu" [ngClass]="setting">
            <li *ngFor="let loc of Context" (click)="SelectOption(loc)">
              <p class="context_title"><b>{{loc?.name}}</b></p>
              <p class="context_address">{{loc?.address}}</p>
            </li>
          </ul>
        </div>
        <div class="btn-continue">
          <button (click)="FindLocation()">Продолжить</button>
        </div>
      </div>
    </div>
  </div>
  <div class="result_tab" [ngClass]="ResultTab">
    <div class="result_header" (click)="ToggleResultTab()">
      <div class="header_description">
        <svg viewBox="0 0 24 24" width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
          <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
          <g id="SVGRepo_iconCarrier">
            <path d="M3 13.6493C3 16.6044 5.41766 19 8.4 19L16.5 19C18.9853 19 21 16.9839 21 14.4969C21 12.6503 19.8893 10.9449 18.3 10.25C18.1317 7.32251 15.684 5 12.6893 5C10.3514 5 8.34694 6.48637 7.5 8.5C4.8 8.9375 3 11.2001 3 13.6493Z" stroke="#c4c4c4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
          </g>
        </svg>
        <span>Результат</span>
      </div>
      <div class="header_arrowdown">
        <svg viewBox="0 0 24.00 24.00" width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
          <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="0.192"></g>
          <g id="SVGRepo_iconCarrier">
            <path d="M5.70711 9.71069C5.31658 10.1012 5.31658 10.7344 5.70711 11.1249L10.5993 16.0123C11.3805 16.7927 12.6463 16.7924 13.4271 16.0117L18.3174 11.1213C18.708 10.7308 18.708 10.0976 18.3174 9.70708C17.9269 9.31655 17.2937 9.31655 16.9032 9.70708L12.7176 13.8927C12.3271 14.2833 11.6939 14.2832 11.3034 13.8927L7.12132 9.71069C6.7308 9.32016 6.09763 9.32016 5.70711 9.71069Z" fill="#c4c4c4"></path>
          </g>
        </svg>
      </div>
    </div>
    <div class="result_body" [ngClass]="ResultBody">
      <div class="forecast" *ngIf="CurrentDayWeather != null && DayliForecast != null">
        <div class="current-weather">
          <div class="last_viewed">
            <p>Последнее обновление данных</p>
            <p>{{ CurrentTime }}</p>
          </div>
          <div class="current-temp">
            <div class="current-icon" style="background-image: url('assets/weather-icon/{{ CurrentDayWeather.weather[0].icon }}@2x.png'); background-size: 80px 80px; background-position: center; width: 60px; height: 60px;">
            </div>
            <span class="temp-view">{{ CurrentDayWeather?.temp | number: '1.0-0' }}<span class="metric">°C</span></span>
            <span class="feels-like">{{ CurrentDayWeather.weather[0].description }}<br /><span>Ощущается {{ CurrentDayWeather?.feels_like | number: '1.0-0' }}<span class="metric">°</span></span></span>
          </div>
          <div class="forecast-description">
            <p>{{ DayliForecast[0].weather[0].description }}</p>
          </div>
          <div class="forecast-info">
            <div class="wind">
              <p>Скорость ветра</p>
              <p>{{ CurrentDayWeather?.wind_speed }}<span class="metric"> км/ч</span></p>
            </div>
            <div class="humidity">
              <p>Влажность</p>
              <p>{{ CurrentDayWeather?.humidity }}<span class="metric"> %</span></p>
            </div>
            <div class="visibility">
              <p>Видимость</p>
              <p>{{ CurrentDayWeather?.visibility/1000 }}<span class="metric"> км</span></p>
            </div>
            <div class="pressure">
              <p>Давление</p>
              <p>{{ CurrentDayWeather?.pressure }}<span class="metric"> мбар</span></p>
            </div>
            <div class="pressure">
              <p>Макс. температура</p>
              <p>{{ DayliForecast[0].temp.max | number: '1.0-0' }}<span class="metric">°</span></p>
            </div>
            <div class="pressure">
              <p>Мин. температура</p>
              <p>{{ DayliForecast[0].temp.min | number: '1.0-0' }}<span class="metric">°</span></p>
            </div>
          </div>
        </div>
      </div>

      <div class="five-day_forecast">
        <div *ngFor="let item of DayliForecast; let i = index;" (click)="toggleActive($event, i)" class="optional_forecast widget" [ngClass]="isActive(i)">
          <div class="week_day">{{ NumberOfWeek[i] }}</div>
          <div class="info">
            <div class="main-info">
              <div class="forecast_min-max">
                <div class="forecast_icon" style="background-image: url('assets/weather-icon/{{ item.weather[0].icon }}@2x.png'); background-size: 50px 50px; background-position: center; width: 50px; height: 50px; ">
                </div>
                <div class="forecast_value">
                  <p>{{ item.temp.max | number: '1.0-0' }}<span class="metric">°</span></p>
                  <p>{{ item.temp.min | number: '1.0-0' }}<span class="metric">°</span></p>
                </div>
              </div>
            </div>
            <div class="additional-info">
              <div class="description">
                {{ item.weather[0].description }}
              </div>
            </div>
          </div>
        </div>
      </div>
      <app-line-chart [FiveDayTemp]="FiveDayForecast" [CurrentDay]="currentDay"></app-line-chart>
    </div>
  </div>
</div>






